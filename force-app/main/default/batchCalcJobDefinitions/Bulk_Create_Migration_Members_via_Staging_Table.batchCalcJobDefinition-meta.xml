<?xml version="1.0" encoding="UTF-8"?>
<BatchCalcJobDefinition xmlns="http://soap.sforce.com/2006/04/metadata">
    <dataSpaceApiName>default</dataSpaceApiName>
    <datasources>
        <fields>
            <alias>activityDateTime</alias>
            <dataType>DateTime</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>activityDateTime</name>
        </fields>
        <fields>
            <alias>cimId</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>cimId</name>
        </fields>
        <fields>
            <alias>email</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>email</name>
        </fields>
        <fields>
            <alias>enrolmentBrand</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>enrolmentBrand</name>
        </fields>
        <fields>
            <alias>enrolmentChannel</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>enrolmentChannel</name>
        </fields>
        <fields>
            <alias>enrolmentCountry</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>enrolmentCountry</name>
        </fields>
        <fields>
            <alias>enrolmentDate</alias>
            <dataType>Date</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>enrolmentDate</name>
        </fields>
        <fields>
            <alias>enrolmentState</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>enrolmentState</name>
        </fields>
        <fields>
            <alias>legacyTier</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>legacyTier</name>
        </fields>
        <fields>
            <alias>migrationRunNo</alias>
            <dataType>Numeric</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>migrationRunNo</name>
        </fields>
        <label>CSVmember</label>
        <name>CSVmember</name>
        <sourceName>Migratemember</sourceName>
        <type>Analytics</type>
    </datasources>
    <datasources>
        <fields>
            <alias>ProgramId</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Id</name>
        </fields>
        <fields>
            <alias>ProgramName</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Name</name>
        </fields>
        <label>LoyaltyProgram</label>
        <name>LoyaltyProgram</name>
        <sourceName>LoyaltyProgram</sourceName>
        <type>StandardObject</type>
    </datasources>
    <datasources>
        <fields>
            <alias>CIM_Customer_ID_pc</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>CIM_Customer_ID__pc</name>
        </fields>
        <fields>
            <alias>Id</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Id</name>
        </fields>
        <fields>
            <alias>PersonContactId</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>PersonContactId</name>
        </fields>
        <label>PersonAccount</label>
        <name>PersonAccount</name>
        <sourceName>Account</sourceName>
        <type>StandardObject</type>
    </datasources>
    <executionPlatformType>CRMA</executionPlatformType>
    <isTemplate>false</isTemplate>
    <joins>
        <fields>
            <alias>activityDateTime</alias>
            <sourceFieldName>activityDateTime</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>cimId</alias>
            <sourceFieldName>cimId</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>CIM_Customer_ID_pc</alias>
            <sourceFieldName>CIM_Customer_ID_pc</sourceFieldName>
            <sourceName>PersonAccount</sourceName>
        </fields>
        <fields>
            <alias>email</alias>
            <sourceFieldName>email</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>enrolmentBrand</alias>
            <sourceFieldName>enrolmentBrand</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>enrolmentChannel</alias>
            <sourceFieldName>enrolmentChannel</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>enrolmentCountry</alias>
            <sourceFieldName>enrolmentCountry</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>enrolmentDate</alias>
            <sourceFieldName>enrolmentDate</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>enrolmentState</alias>
            <sourceFieldName>enrolmentState</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>Id</alias>
            <sourceFieldName>Id</sourceFieldName>
            <sourceName>PersonAccount</sourceName>
        </fields>
        <fields>
            <alias>legacyTier</alias>
            <sourceFieldName>legacyTier</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>migrationRunNo</alias>
            <sourceFieldName>migrationRunNo</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>PersonContactId</alias>
            <sourceFieldName>PersonContactId</sourceFieldName>
            <sourceName>PersonAccount</sourceName>
        </fields>
        <fields>
            <alias>ProgramName</alias>
            <sourceFieldName>ProgramName</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>Status</alias>
            <sourceFieldName>Status</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <joinKeys>
            <primarySourceFieldName>cimId</primarySourceFieldName>
            <secondarySourceFieldName>CIM_Customer_ID_pc</secondarySourceFieldName>
        </joinKeys>
        <label>PersonAccountMemberJoin</label>
        <name>PersonAccountMemberJoin</name>
        <primarySourceName>EnrichMemberFields</primarySourceName>
        <secondarySourceName>PersonAccount</secondarySourceName>
        <type>Inner</type>
    </joins>
    <joins>
        <fields>
            <alias>activityDateTime</alias>
            <sourceFieldName>activityDateTime</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>cimId</alias>
            <sourceFieldName>cimId</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>CIM_Customer_ID_pc</alias>
            <sourceFieldName>CIM_Customer_ID_pc</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>email</alias>
            <sourceFieldName>email</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>enrolmentBrand</alias>
            <sourceFieldName>enrolmentBrand</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>enrolmentChannel</alias>
            <sourceFieldName>enrolmentChannel</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>enrolmentCountry</alias>
            <sourceFieldName>enrolmentCountry</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>enrolmentDate</alias>
            <sourceFieldName>enrolmentDate</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>enrolmentState</alias>
            <sourceFieldName>enrolmentState</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>FormulaProgramName</alias>
            <sourceFieldName>ProgramName</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>Id</alias>
            <sourceFieldName>Id</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>legacyTier</alias>
            <sourceFieldName>legacyTier</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>migrationRunNo</alias>
            <sourceFieldName>migrationRunNo</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>PersonContactId</alias>
            <sourceFieldName>PersonContactId</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>ProgramId</alias>
            <sourceFieldName>ProgramId</sourceFieldName>
            <sourceName>LoyaltyProgram</sourceName>
        </fields>
        <fields>
            <alias>ProgramName</alias>
            <sourceFieldName>ProgramName</sourceFieldName>
            <sourceName>LoyaltyProgram</sourceName>
        </fields>
        <fields>
            <alias>Status</alias>
            <sourceFieldName>Status</sourceFieldName>
            <sourceName>PersonAccountMemberJoin</sourceName>
        </fields>
        <joinKeys>
            <primarySourceFieldName>ProgramName</primarySourceFieldName>
            <secondarySourceFieldName>ProgramName</secondarySourceFieldName>
        </joinKeys>
        <label>ProgramJoin</label>
        <name>ProgramJoin</name>
        <primarySourceName>PersonAccountMemberJoin</primarySourceName>
        <secondarySourceName>LoyaltyProgram</secondarySourceName>
        <type>Inner</type>
    </joins>
    <label>Bulk Create Migration Members via Staging Table</label>
    <processType>DataProcessingEngine</processType>
    <status>Active</status>
    <transforms>
        <expressionFields>
            <alias>ProgramName</alias>
            <dataType>Text</dataType>
            <expression>&quot;Just Shop&quot;</expression>
            <length>18</length>
        </expressionFields>
        <expressionFields>
            <alias>Status</alias>
            <dataType>Text</dataType>
            <expression>&quot;Active&quot;</expression>
            <length>18</length>
        </expressionFields>
        <label>EnrichMemberFields</label>
        <name>EnrichMemberFields</name>
        <sourceName>CSVmember</sourceName>
        <transformationType>Expression</transformationType>
    </transforms>
    <writebacks>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>enrolmentBrand</sourceFieldName>
            <targetFieldName>Migrated_Member_Status__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>enrolmentChannel</sourceFieldName>
            <targetFieldName>Enrollment_Channel__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>enrolmentCountry</sourceFieldName>
            <targetFieldName>Country__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>enrolmentDate</sourceFieldName>
            <targetFieldName>Enrollment_Date__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>enrolmentState</sourceFieldName>
            <targetFieldName>State__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>legacyTier</sourceFieldName>
            <targetFieldName>First_Name__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>migrationRunNo</sourceFieldName>
            <targetFieldName>Lifetime_Points__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>PersonContactId</sourceFieldName>
            <targetFieldName>ContactId__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>Status</sourceFieldName>
            <targetFieldName>Migration_Status__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>ProgramId</sourceFieldName>
            <targetFieldName>Last_Name__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>cimId</sourceFieldName>
            <targetFieldName>CIM_Customer_ID__c</targetFieldName>
        </fields>
        <isChangedRow>false</isChangedRow>
        <label>MigrationStagingObject</label>
        <name>MigrationStagingObject</name>
        <operationType>Insert</operationType>
        <sourceName>ProgramJoin</sourceName>
        <storageType>sObject</storageType>
        <targetObjectName>JGL_Member_Data_Migration__c</targetObjectName>
        <writebackSequence>1</writebackSequence>
        <writebackUser>005Hp00000hfFcWIAU</writebackUser>
    </writebacks>
</BatchCalcJobDefinition>
