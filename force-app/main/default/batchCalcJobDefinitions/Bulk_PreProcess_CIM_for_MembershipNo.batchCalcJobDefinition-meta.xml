<?xml version="1.0" encoding="UTF-8"?>
<BatchCalcJobDefinition xmlns="http://soap.sforce.com/2006/04/metadata">
    <dataSpaceApiName>default</dataSpaceApiName>
    <datasources>
        <fields>
            <alias>cimId</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>cimId</name>
        </fields>
        <fields>
            <alias>points_balance</alias>
            <dataType>Numeric</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>points_balance</name>
        </fields>
        <label>CSVPointsWCIM</label>
        <name>CSVPointsWCIM</name>
        <sourceName>points_balance_200_wCIM</sourceName>
        <type>Analytics</type>
    </datasources>
    <datasources>
        <fields>
            <alias>CIM_Id_c</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>CIM_Id__c</name>
        </fields>
        <fields>
            <alias>MemberId</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Id</name>
        </fields>
        <fields>
            <alias>MembershipNumber</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>MembershipNumber</name>
        </fields>
        <fields>
            <alias>ProgramId</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>ProgramId</name>
        </fields>
        <label>ProgramMember</label>
        <name>ProgramMember</name>
        <sourceName>LoyaltyProgramMember</sourceName>
        <type>StandardObject</type>
    </datasources>
    <executionPlatformType>CRMA</executionPlatformType>
    <isTemplate>false</isTemplate>
    <joins>
        <fields>
            <alias>cimId</alias>
            <sourceFieldName>cimId</sourceFieldName>
            <sourceName>CSVPointsWCIM</sourceName>
        </fields>
        <fields>
            <alias>CIM_Id_c</alias>
            <sourceFieldName>CIM_Id_c</sourceFieldName>
            <sourceName>ProgramMember</sourceName>
        </fields>
        <fields>
            <alias>MemberId</alias>
            <sourceFieldName>MemberId</sourceFieldName>
            <sourceName>ProgramMember</sourceName>
        </fields>
        <fields>
            <alias>MembershipNumber</alias>
            <sourceFieldName>MembershipNumber</sourceFieldName>
            <sourceName>ProgramMember</sourceName>
        </fields>
        <fields>
            <alias>points_balance</alias>
            <sourceFieldName>points_balance</sourceFieldName>
            <sourceName>CSVPointsWCIM</sourceName>
        </fields>
        <fields>
            <alias>ProgramId</alias>
            <sourceFieldName>ProgramId</sourceFieldName>
            <sourceName>ProgramMember</sourceName>
        </fields>
        <joinKeys>
            <primarySourceFieldName>cimId</primarySourceFieldName>
            <secondarySourceFieldName>CIM_Id_c</secondarySourceFieldName>
        </joinKeys>
        <label>CIMMemberJOIN</label>
        <name>CIMMemberJOIN</name>
        <primarySourceName>CSVPointsWCIM</primarySourceName>
        <secondarySourceName>ProgramMember</secondarySourceName>
        <type>Inner</type>
    </joins>
    <label>Bulk PreProcess CIM for MembershipNo</label>
    <processType>DataProcessingEngine</processType>
    <status>Active</status>
    <writebacks>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>cimId</sourceFieldName>
            <targetFieldName>CIM_Customer_ID__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>MembershipNumber</sourceFieldName>
            <targetFieldName>Just_Shop_Number__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>points_balance</sourceFieldName>
            <targetFieldName>Status_Points__c</targetFieldName>
        </fields>
        <isChangedRow>false</isChangedRow>
        <label>MigrationStagingObject</label>
        <name>MigrationStagingObject</name>
        <operationType>Insert</operationType>
        <sourceName>CIMMemberJOIN</sourceName>
        <storageType>sObject</storageType>
        <targetObjectName>JGL_Member_Data_Migration__c</targetObjectName>
        <writebackSequence>1</writebackSequence>
        <writebackUser>005Hp00000hfFcWIAU</writebackUser>
    </writebacks>
</BatchCalcJobDefinition>
