<?xml version="1.0" encoding="UTF-8"?>
<BatchCalcJobDefinition xmlns="http://soap.sforce.com/2006/04/metadata">
    <dataSpaceApiName>default</dataSpaceApiName>
    <datasources>
        <fields>
            <alias>RecordTypeId</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Id</name>
        </fields>
        <fields>
            <alias>RecordTypeName</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Name</name>
        </fields>
        <label>AccountRecordType</label>
        <name>AccountRecordType</name>
        <sourceName>RecordType</sourceName>
        <type>StandardObject</type>
    </datasources>
    <datasources>
        <fields>
            <alias>CSVcimId</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>cimId</name>
        </fields>
        <fields>
            <alias>CSVdateOfBirth</alias>
            <dataType>Date</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>dateOfBirth</name>
        </fields>
        <fields>
            <alias>CSVemail</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>email</name>
        </fields>
        <fields>
            <alias>CSVfirstname</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>firstname</name>
        </fields>
        <fields>
            <alias>CSVlastname</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>lastname</name>
        </fields>
        <fields>
            <alias>CSVmobile</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>mobile</name>
        </fields>
        <label>ContactDetails</label>
        <name>ContactDetails</name>
        <sourceName>contact</sourceName>
        <type>Analytics</type>
    </datasources>
    <executionPlatformType>CRMA</executionPlatformType>
    <filters>
        <criteria>
            <operator>Equals</operator>
            <sequence>1</sequence>
            <sourceFieldName>RecordTypeName</sourceFieldName>
            <value>Person Account</value>
        </criteria>
        <filterCondition>1</filterCondition>
        <isDynamicFilter>false</isDynamicFilter>
        <label>PersonAccount</label>
        <name>PersonAccount</name>
        <sourceName>AccountRecordType</sourceName>
    </filters>
    <filters>
        <criteria>
            <operator>IsNull</operator>
            <sequence>1</sequence>
            <sourceFieldName>CSVdateOfBirth</sourceFieldName>
        </criteria>
        <filterCondition>1</filterCondition>
        <isDynamicFilter>false</isDynamicFilter>
        <label>noDOB</label>
        <name>noDOB</name>
        <sourceName>RecTypeIDJoin</sourceName>
    </filters>
    <filters>
        <criteria>
            <operator>IsNotNull</operator>
            <sequence>1</sequence>
            <sourceFieldName>CSVdateOfBirth</sourceFieldName>
        </criteria>
        <filterCondition>1</filterCondition>
        <isDynamicFilter>false</isDynamicFilter>
        <label>DOBexist</label>
        <name>DOBexist</name>
        <sourceName>RecTypeIDJoin</sourceName>
    </filters>
    <isTemplate>false</isTemplate>
    <joins>
        <fields>
            <alias>CSVcimId</alias>
            <sourceFieldName>CSVcimId</sourceFieldName>
            <sourceName>RecordTypeName</sourceName>
        </fields>
        <fields>
            <alias>CSVdateOfBirth</alias>
            <sourceFieldName>CSVdateOfBirth</sourceFieldName>
            <sourceName>RecordTypeName</sourceName>
        </fields>
        <fields>
            <alias>CSVemail</alias>
            <sourceFieldName>CSVemail</sourceFieldName>
            <sourceName>RecordTypeName</sourceName>
        </fields>
        <fields>
            <alias>CSVfirstname</alias>
            <sourceFieldName>CSVfirstname</sourceFieldName>
            <sourceName>RecordTypeName</sourceName>
        </fields>
        <fields>
            <alias>CSVlastname</alias>
            <sourceFieldName>CSVlastname</sourceFieldName>
            <sourceName>RecordTypeName</sourceName>
        </fields>
        <fields>
            <alias>CSVmobile</alias>
            <sourceFieldName>CSVmobile</sourceFieldName>
            <sourceName>RecordTypeName</sourceName>
        </fields>
        <fields>
            <alias>CSVRecTypeName</alias>
            <sourceFieldName>CSVRecTypeName</sourceFieldName>
            <sourceName>RecordTypeName</sourceName>
        </fields>
        <fields>
            <alias>RecordTypeId</alias>
            <sourceFieldName>RecordTypeId</sourceFieldName>
            <sourceName>PersonAccount</sourceName>
        </fields>
        <fields>
            <alias>RecordTypeName</alias>
            <sourceFieldName>RecordTypeName</sourceFieldName>
            <sourceName>PersonAccount</sourceName>
        </fields>
        <joinKeys>
            <primarySourceFieldName>CSVRecTypeName</primarySourceFieldName>
            <secondarySourceFieldName>RecordTypeName</secondarySourceFieldName>
        </joinKeys>
        <label>RecTypeIDJoin</label>
        <name>RecTypeIDJoin</name>
        <primarySourceName>RecordTypeName</primarySourceName>
        <secondarySourceName>PersonAccount</secondarySourceName>
        <type>Inner</type>
    </joins>
    <label>Bulk Create PersonAccount Records for Migration</label>
    <processType>DataProcessingEngine</processType>
    <status>Inactive</status>
    <transforms>
        <expressionFields>
            <alias>CSVRecTypeName</alias>
            <dataType>Text</dataType>
            <expression>&quot;Person Account&quot;</expression>
            <length>18</length>
        </expressionFields>
        <label>RecordTypeName</label>
        <name>RecordTypeName</name>
        <sourceName>ContactDetails</sourceName>
        <transformationType>Expression</transformationType>
    </transforms>
    <writebacks>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>CSVcimId</sourceFieldName>
            <targetFieldName>CIM_Customer_ID__pc</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>CSVemail</sourceFieldName>
            <targetFieldName>PersonEmail</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>CSVfirstname</sourceFieldName>
            <targetFieldName>FirstName</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>CSVlastname</sourceFieldName>
            <targetFieldName>LastName</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>CSVmobile</sourceFieldName>
            <targetFieldName>PersonMobilePhone</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>RecordTypeId</sourceFieldName>
            <targetFieldName>RecordTypeId</targetFieldName>
        </fields>
        <isChangedRow>false</isChangedRow>
        <label>CreatePersonAccount</label>
        <name>CreatePersonAccount</name>
        <operationType>Insert</operationType>
        <sourceName>noDOB</sourceName>
        <storageType>sObject</storageType>
        <targetObjectName>Account</targetObjectName>
        <writebackSequence>1</writebackSequence>
        <writebackUser>005Hp00000hfFcWIAU</writebackUser>
    </writebacks>
    <writebacks>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>CSVcimId</sourceFieldName>
            <targetFieldName>CIM_Customer_ID__pc</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>RecordTypeId</sourceFieldName>
            <targetFieldName>RecordTypeId</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>CSVfirstname</sourceFieldName>
            <targetFieldName>FirstName</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>CSVlastname</sourceFieldName>
            <targetFieldName>LastName</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>CSVemail</sourceFieldName>
            <targetFieldName>PersonEmail</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>CSVmobile</sourceFieldName>
            <targetFieldName>PersonMobilePhone</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>CSVdateOfBirth</sourceFieldName>
            <targetFieldName>PersonBirthdate</targetFieldName>
        </fields>
        <isChangedRow>false</isChangedRow>
        <label>CreatePersonAccountwDOB</label>
        <name>CreatePersonAccountwDOB</name>
        <operationType>Insert</operationType>
        <sourceName>DOBexist</sourceName>
        <storageType>sObject</storageType>
        <targetObjectName>Account</targetObjectName>
        <writebackSequence>2</writebackSequence>
        <writebackUser>005Hp00000hfFcWIAU</writebackUser>
    </writebacks>
</BatchCalcJobDefinition>
