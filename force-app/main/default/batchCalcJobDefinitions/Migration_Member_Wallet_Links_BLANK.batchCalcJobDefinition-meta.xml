<?xml version="1.0" encoding="UTF-8"?>
<BatchCalcJobDefinition xmlns="http://soap.sforce.com/2006/04/metadata">
    <dataSpaceApiName>default</dataSpaceApiName>
    <datasources>
        <fields>
            <alias>Apple_Wallet_Link_c</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Apple_Wallet_Link__c</name>
        </fields>
        <fields>
            <alias>Google_Wallet_Link_c</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Google_Wallet_Link__c</name>
        </fields>
        <fields>
            <alias>Id</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Id</name>
        </fields>
        <fields>
            <alias>MembershipNumber</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>MembershipNumber</name>
        </fields>
        <fields>
            <alias>LastModifiedDate</alias>
            <dataType>DateTime</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>LastModifiedDate</name>
        </fields>
        <label>LoyaltyProgramMember</label>
        <name>LoyaltyProgramMember</name>
        <sourceName>LoyaltyProgramMember</sourceName>
        <type>StandardObject</type>
    </datasources>
    <executionPlatformType>CRMA</executionPlatformType>
    <filters>
        <criteria>
            <operator>LessThan</operator>
            <sequence>1</sequence>
            <sourceFieldName>shortGoogleLink</sourceFieldName>
            <value>300</value>
        </criteria>
        <criteria>
            <operator>Equals</operator>
            <sequence>2</sequence>
            <sourceFieldName>isblank</sourceFieldName>
            <value>Blank</value>
        </criteria>
        <filterCondition>1 OR 2</filterCondition>
        <isDynamicFilter>false</isDynamicFilter>
        <label>MembersBlankLinks</label>
        <name>MembersBlankLinks</name>
        <sourceName>ShortGoogleLinks</sourceName>
    </filters>
    <isTemplate>false</isTemplate>
    <label>Migration Member Wallet Links BLANK</label>
    <processType>DataProcessingEngine</processType>
    <status>Active</status>
    <transforms>
        <expressionFields>
            <alias>isblank</alias>
            <dataType>Text</dataType>
            <expression>IF (ISNULL({Google_Wallet_Link_c} )  , &quot;Blank&quot;, &quot;NotBlank&quot;)</expression>
            <length>8</length>
        </expressionFields>
        <expressionFields>
            <alias>shortGoogleLink</alias>
            <dataType>Numeric</dataType>
            <decimalPlaces>0</decimalPlaces>
            <expression>LENGTH({Google_Wallet_Link_c} )</expression>
            <length>18</length>
        </expressionFields>
        <label>ShortGoogleLinks</label>
        <name>ShortGoogleLinks</name>
        <sourceName>LoyaltyProgramMember</sourceName>
        <transformationType>Expression</transformationType>
    </transforms>
    <writebacks>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>MembershipNumber</sourceFieldName>
            <targetFieldName>Just_Shop_Number__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>Google_Wallet_Link_c</sourceFieldName>
            <targetFieldName>Migration_Error__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>LastModifiedDate</sourceFieldName>
            <targetFieldName>Last_Modified__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>isblank</sourceFieldName>
            <targetFieldName>ContactId__c</targetFieldName>
        </fields>
        <isChangedRow>false</isChangedRow>
        <label>csvOutput</label>
        <name>csvOutput</name>
        <operationType>Insert</operationType>
        <sourceName>MembersBlankLinks</sourceName>
        <storageType>sObject</storageType>
        <targetObjectName>JGL_Member_Data_Migration__c</targetObjectName>
        <writebackSequence>1</writebackSequence>
        <writebackUser>005Hp00000hfFcWIAU</writebackUser>
    </writebacks>
</BatchCalcJobDefinition>
