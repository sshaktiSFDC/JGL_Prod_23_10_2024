<?xml version="1.0" encoding="UTF-8"?>
<BatchCalcJobDefinition xmlns="http://soap.sforce.com/2006/04/metadata">
    <dataSpaceApiName>default</dataSpaceApiName>
    <datasources>
        <fields>
            <alias>activityDateTime</alias>
            <dataType>DateTime</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>activityDateTime</name>
        </fields>
        <fields>
            <alias>cimId</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>cimId</name>
        </fields>
        <label>CSVMemberJournal</label>
        <name>CSVMemberJournal</name>
        <sourceName>MigratememberJournal</sourceName>
        <type>Analytics</type>
    </datasources>
    <datasources>
        <fields>
            <alias>SubTypeId</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Id</name>
        </fields>
        <fields>
            <alias>JournalTypeId</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>JournalTypeId</name>
        </fields>
        <fields>
            <alias>SubTypeName</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Name</name>
        </fields>
        <label>JournalSubType</label>
        <name>JournalSubType</name>
        <sourceName>JournalSubType</sourceName>
        <type>StandardObject</type>
    </datasources>
    <datasources>
        <fields>
            <alias>Id</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Id</name>
        </fields>
        <fields>
            <alias>Name</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Name</name>
        </fields>
        <label>JournalType</label>
        <name>JournalType</name>
        <sourceName>JournalType</sourceName>
        <type>StandardObject</type>
    </datasources>
    <datasources>
        <fields>
            <alias>CIM_Id_c</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>CIM_Id__c</name>
        </fields>
        <fields>
            <alias>MemberId</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Id</name>
        </fields>
        <fields>
            <alias>Migration_Run_No_c</alias>
            <dataType>Numeric</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>Migration_Run_No__c</name>
        </fields>
        <fields>
            <alias>ProgramId</alias>
            <dataType>Text</dataType>
            <isPrimaryKey>false</isPrimaryKey>
            <name>ProgramId</name>
        </fields>
        <label>ProgramMember</label>
        <name>ProgramMember</name>
        <sourceName>LoyaltyProgramMember</sourceName>
        <type>StandardObject</type>
    </datasources>
    <executionPlatformType>CRMA</executionPlatformType>
    <filters>
        <criteria>
            <operator>Equals</operator>
            <sequence>1</sequence>
            <sourceFieldName>SubTypeName</sourceFieldName>
            <value>Member Enrollment</value>
        </criteria>
        <filterCondition>1</filterCondition>
        <isDynamicFilter>false</isDynamicFilter>
        <label>SubTypeEnrollment</label>
        <name>SubTypeEnrollment</name>
        <sourceName>JournalSubType</sourceName>
    </filters>
    <filters>
        <criteria>
            <operator>Equals</operator>
            <sequence>1</sequence>
            <sourceFieldName>Name</sourceFieldName>
            <value>Accrual</value>
        </criteria>
        <filterCondition>1</filterCondition>
        <isDynamicFilter>false</isDynamicFilter>
        <label>JournalTypeAccrual</label>
        <name>JournalTypeAccrual</name>
        <sourceName>JournalType</sourceName>
    </filters>
    <filters>
        <criteria>
            <operator>GreaterThan</operator>
            <sequence>1</sequence>
            <sourceFieldName>Migration_Run_No_c</sourceFieldName>
            <value>12</value>
        </criteria>
        <filterCondition>1</filterCondition>
        <isDynamicFilter>false</isDynamicFilter>
        <label>MigrationNoFilter</label>
        <name>MigrationNoFilter</name>
        <sourceName>ProgramMember</sourceName>
    </filters>
    <isTemplate>false</isTemplate>
    <joins>
        <fields>
            <alias>activityDateTime</alias>
            <sourceFieldName>activityDateTime</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>ActivityDateTimeTEXT</alias>
            <sourceFieldName>ActivityDateTimeTEXT</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>cimId</alias>
            <sourceFieldName>cimId</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>CIM_Id_c</alias>
            <sourceFieldName>CIM_Id_c</sourceFieldName>
            <sourceName>MigrationNoFilter</sourceName>
        </fields>
        <fields>
            <alias>MemberId</alias>
            <sourceFieldName>MemberId</sourceFieldName>
            <sourceName>MigrationNoFilter</sourceName>
        </fields>
        <fields>
            <alias>Migration_Run_No_c</alias>
            <sourceFieldName>Migration_Run_No_c</sourceFieldName>
            <sourceName>MigrationNoFilter</sourceName>
        </fields>
        <fields>
            <alias>NameSubType</alias>
            <sourceFieldName>NameSubType</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <fields>
            <alias>ProgramId</alias>
            <sourceFieldName>ProgramId</sourceFieldName>
            <sourceName>MigrationNoFilter</sourceName>
        </fields>
        <fields>
            <alias>Status</alias>
            <sourceFieldName>Status</sourceFieldName>
            <sourceName>EnrichMemberFields</sourceName>
        </fields>
        <joinKeys>
            <primarySourceFieldName>cimId</primarySourceFieldName>
            <secondarySourceFieldName>CIM_Id_c</secondarySourceFieldName>
        </joinKeys>
        <label>ActivityDateMemberJoin</label>
        <name>ActivityDateMemberJoin</name>
        <primarySourceName>EnrichMemberFields</primarySourceName>
        <secondarySourceName>MigrationNoFilter</secondarySourceName>
        <type>Inner</type>
    </joins>
    <joins>
        <fields>
            <alias>activityDateTime</alias>
            <sourceFieldName>activityDateTime</sourceFieldName>
            <sourceName>ActivityDateMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>ActivityDateTimeTEXT</alias>
            <sourceFieldName>ActivityDateTimeTEXT</sourceFieldName>
            <sourceName>ActivityDateMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>cimId</alias>
            <sourceFieldName>cimId</sourceFieldName>
            <sourceName>ActivityDateMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>MemberId</alias>
            <sourceFieldName>MemberId</sourceFieldName>
            <sourceName>ActivityDateMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>ProgramId</alias>
            <sourceFieldName>ProgramId</sourceFieldName>
            <sourceName>ActivityDateMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>Status</alias>
            <sourceFieldName>Status</sourceFieldName>
            <sourceName>ActivityDateMemberJoin</sourceName>
        </fields>
        <fields>
            <alias>SubTypeId</alias>
            <sourceFieldName>SubTypeId</sourceFieldName>
            <sourceName>TypeANDSubTypeJOIN</sourceName>
        </fields>
        <fields>
            <alias>SubTypeName</alias>
            <sourceFieldName>SubTypeName</sourceFieldName>
            <sourceName>TypeANDSubTypeJOIN</sourceName>
        </fields>
        <fields>
            <alias>TypeId</alias>
            <sourceFieldName>TypeId</sourceFieldName>
            <sourceName>TypeANDSubTypeJOIN</sourceName>
        </fields>
        <joinKeys>
            <primarySourceFieldName>SubTypeName</primarySourceFieldName>
            <secondarySourceFieldName>NameSubType</secondarySourceFieldName>
        </joinKeys>
        <label>MemberJournalJoin</label>
        <name>MemberJournalJoin</name>
        <primarySourceName>TypeANDSubTypeJOIN</primarySourceName>
        <secondarySourceName>ActivityDateMemberJoin</secondarySourceName>
        <type>Inner</type>
    </joins>
    <joins>
        <fields>
            <alias>JournalTypeId</alias>
            <sourceFieldName>JournalTypeId</sourceFieldName>
            <sourceName>SubTypeEnrollment</sourceName>
        </fields>
        <fields>
            <alias>SubTypeId</alias>
            <sourceFieldName>SubTypeId</sourceFieldName>
            <sourceName>SubTypeEnrollment</sourceName>
        </fields>
        <fields>
            <alias>SubTypeName</alias>
            <sourceFieldName>SubTypeName</sourceFieldName>
            <sourceName>SubTypeEnrollment</sourceName>
        </fields>
        <fields>
            <alias>TypeId</alias>
            <sourceFieldName>Id</sourceFieldName>
            <sourceName>JournalTypeAccrual</sourceName>
        </fields>
        <fields>
            <alias>TypeName</alias>
            <sourceFieldName>Name</sourceFieldName>
            <sourceName>JournalTypeAccrual</sourceName>
        </fields>
        <joinKeys>
            <primarySourceFieldName>JournalTypeId</primarySourceFieldName>
            <secondarySourceFieldName>Id</secondarySourceFieldName>
        </joinKeys>
        <label>TypeANDSubTypeJOIN</label>
        <name>TypeANDSubTypeJOIN</name>
        <primarySourceName>SubTypeEnrollment</primarySourceName>
        <secondarySourceName>JournalTypeAccrual</secondarySourceName>
        <type>Inner</type>
    </joins>
    <label>Bulk Create Migration Journals</label>
    <processType>DataProcessingEngine</processType>
    <status>Active</status>
    <transforms>
        <expressionFields>
            <alias>JournalDateText</alias>
            <dataType>Text</dataType>
            <expression>TEXT({activityDateTime} )</expression>
            <length>30</length>
        </expressionFields>
        <label>CreateactivityDateTime</label>
        <name>CreateactivityDateTime</name>
        <sourceName>MemberJournalJoin</sourceName>
        <transformationType>Expression</transformationType>
    </transforms>
    <transforms>
        <expressionFields>
            <alias>ActivityDateTimeTEXT</alias>
            <dataType>Text</dataType>
            <expression>TEXT({activityDateTime})</expression>
            <length>30</length>
        </expressionFields>
        <expressionFields>
            <alias>NameSubType</alias>
            <dataType>Text</dataType>
            <expression>&quot;Member Enrollment&quot;</expression>
            <length>18</length>
        </expressionFields>
        <expressionFields>
            <alias>Status</alias>
            <dataType>Text</dataType>
            <expression>&quot;Pending&quot;</expression>
            <length>18</length>
        </expressionFields>
        <label>EnrichMemberFields</label>
        <name>EnrichMemberFields</name>
        <sourceName>CSVMemberJournal</sourceName>
        <transformationType>Expression</transformationType>
    </transforms>
    <writebacks>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>MemberId</sourceFieldName>
            <targetFieldName>First_Name__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>ActivityDateTimeTEXT</sourceFieldName>
            <targetFieldName>State__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>ProgramId</sourceFieldName>
            <targetFieldName>Last_Name__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>JournalDateText</sourceFieldName>
            <targetFieldName>Migrated_Member_Status__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>Status</sourceFieldName>
            <targetFieldName>Migration_Status__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>TypeId</sourceFieldName>
            <targetFieldName>TypeId__c</targetFieldName>
        </fields>
        <fields>
            <runtimeParameter>false</runtimeParameter>
            <sourceFieldName>SubTypeId</sourceFieldName>
            <targetFieldName>SubTypeId__c</targetFieldName>
        </fields>
        <isChangedRow>false</isChangedRow>
        <label>CreateJournals</label>
        <name>CreateJournals</name>
        <operationType>Insert</operationType>
        <sourceName>CreateactivityDateTime</sourceName>
        <storageType>sObject</storageType>
        <targetObjectName>JGL_Member_Data_Migration__c</targetObjectName>
        <writebackSequence>1</writebackSequence>
        <writebackUser>005Hp00000hfFcWIAU</writebackUser>
    </writebacks>
</BatchCalcJobDefinition>
